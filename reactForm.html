<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<title>Testing</title>
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css">
</head>
<body>
	<div id="react-app"></div>
	<script src="https://fb.me/react-0.14.3.js"></script>
	<script src="https://fb.me/react-dom-0.14.3.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/babel-core/5.8.23/browser.min.js"></script>
	<script type="text/babel">
  /*
 * Components
 */
  // var pendingItems = [
  //   'Clean the room',
  //   'Get milf',
  //   'Sellout and stuff'
  //   ];

  // var finishedItems = [
  //   'Clean the room',
  //   ];

  var Todo = React.createClass({
  	render: function() {
  		return (
  			<div>
  				<div onClick={this.props.onClick}>{this.props.title}</div>
  			</div>
  			);
  	},
  });

  var Todos = React.createClass({
  	getInitialState: function() {
  		return {
  			pendingItems: ['Apple', 'Banana', 'Cranberry'],
  			finishedItems: ['Clean stuff']
  		};
  	},

  	handlePendingClick: function(index) {
  		var items = this.state.pendingItems.filter(function(item, i) {
  			return index !== i;
  		});
  		// this.state.finishedItems.push.this.state.pendingItems[index];
  		var temp = this.state.pendingItems[index];
  		var tempArray = this.state.finishedItems.slice(0);

  		tempArray.push(temp);
  		this.setState({pendingItems: items});
  		this.setState({finishedItems: tempArray});
  	},
  	  	handleFinishedClick: function(index) {
  		var items = this.state.finishedItems.filter(function(item, i) {
  			return index !== i;
  		});
  		// this.state.finishedItems.push.this.state.pendingItems[index];
  		var temp = this.state.finishedItems[index];
  		var tempArray = this.state.pendingItems.slice(0);

  		tempArray.push(temp);
  		this.setState({finishedItems: items});
  		this.setState({pendingItems: tempArray});
  	},

  	render: function() {
  		return (
  			<div>
  				<h1>Pending items</h1>
  				{this.state.pendingItems.map(function(item, i) {
  					var boundClick = this.handlePendingClick.bind(this, i);
  					return (
  						<Todo onClick={boundClick} key={i} title={item} ref={'itemP' + i} />
  						);
  				}, this)}
  				<h1>Finished items</h1>
  				{this.state.finishedItems.map(function(item, i) {
  					var boundClick = this.handleFinishedClick.bind(this, i);
  					return (
  						<Todo onClick={boundClick} key={i} title={item} ref={'itemF' + i} />
  						);
  				}, this)}
  			</div>
  			);
  	}
  });

  ReactDOM.render(<Todos />, document.getElementById('react-app'));
</script>

</body>
</html>
